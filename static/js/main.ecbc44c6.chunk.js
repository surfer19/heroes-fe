(window["webpackJsonpheroes-fe"]=window["webpackJsonpheroes-fe"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(64),a(20)),s=a(13),i=a(50),m=a(51),u=a(16),d=a(32),f=a.n(d),h=a(52),p=a(53),g=a.n(p),b="FETCH_GNOMES_BEGIN",E="FETCH_GNOMES_SUCCESS",v="FETCH_GNOMES_FAILURE";function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={allGnomes:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return y({},e);case E:return y({},e,{allGnomes:t.payload});case v:return y({},e);default:return e}},k=Object(s.c)({gnomeListReducer:j}),N=a(54),G=a.n(N),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.e)(k,e,Object(s.d)(Object(s.a)(m.a,G.a),Object(i.cacheEnhancer)({log:!0})))},P=a(10),x=a(14),S=a(17),D=a(18),L=a(21),C=a(19),T=a(12),_=a(22),B=a(106),F=a(107),A=a(108),I=a(120),R=a(109),H=a(110),W=a(111),J=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(L.a)(this,Object(C.a)(t).call(this,e))).toggle=a.toggle.bind(Object(T.a)(a)),a.state={isOpen:!1},a}return Object(_.a)(t,e),Object(D.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B.a,{color:"light",light:!0,expand:"md"},r.a.createElement("div",{className:"container"},r.a.createElement(F.a,null,r.a.createElement("img",{src:"./images/gnome.svg",width:"50px",alt:"logo"}),"Brastlewark"),r.a.createElement(A.a,{onClick:this.toggle}),r.a.createElement(I.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(R.a,{className:"ml-auto",navbar:!0},r.a.createElement(H.a,null,r.a.createElement(W.a,{href:"https://github.com/surfer19/heroes-fe",target:"_blank"},"GitHub")))))))}}]),t}(r.a.Component),U=(a(97),a(112)),X=a(113),$=a(114),q=a(115),z=a(116),K=a(117),Q=(a(98),function(e){return r.a.createElement(P.b,{to:"/detail/".concat(e.gnome.id)},r.a.createElement(U.a,{className:"shadow"},r.a.createElement(X.a,{top:!0,width:"100%",src:e.gnome.thumbnail,alt:"Card image cap"}),r.a.createElement($.a,null,r.a.createElement(q.a,null,e.gnome.name),r.a.createElement(z.a,null,"Age: ",e.gnome.age),r.a.createElement(K.a,null,"Professions: ",function(e){var t=e.gnome.professions,a=t.length;return 0===a?"None":t.map((function(e,t){return r.a.createElement("span",{key:t}," ",e,a!==t+1?", ":null)}))}(e)))))}),V=a(57),Y=a.n(V),Z=(a(101),a(118)),ee=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(L.a)(this,Object(C.a)(t).call(this,e))).state={loadMore:!0,gnomesToLoad:[]},a}return Object(_.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllGnomes()}},{key:"loadMoreGnomes",value:function(){var e=this.state.gnomesToLoad.length,t=this.props.allGnomes.slice(e,e+20);e>=this.props.allGnomes.length?this.setState({gnomesToLoad:this.state.gnomesToLoad,loadMore:!1}):this.setState({gnomesToLoad:this.state.gnomesToLoad.concat(t),loadMore:!0})}},{key:"render",value:function(){return this.props.allGnomes.length>0?r.a.createElement(Y.a,{className:"row",pageStart:0,loadMore:this.loadMoreGnomes.bind(this),hasMore:this.state.loadMore,useWindow:!0,threshold:100,loader:r.a.createElement("div",{className:"loader",key:0},r.a.createElement(Z.a,{color:"warning",key:"0",className:"spinner"}))},this.state.gnomesToLoad.map((function(e,t){return r.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 col-xl-3 mt-4",key:t},r.a.createElement(Q,{gnome:e}))}))):r.a.createElement("div",null,r.a.createElement(Z.a,{color:"dark",type:"grow",style:{position:"fixed",width:"4rem",height:"4rem",transform:"translateX(-50%,-50%)",top:"50%",left:"50%"}}))}}]),t}(r.a.Component),te=Object(l.b)((function(e){return{allGnomes:e.gnomeListReducer.allGnomes}}),(function(e){return{fetchAllGnomes:function(){return e(function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:b}),e.next=4,g.a.get("http://raw.githubusercontent.com/rrafols/mobile_test/master/data.json");case 4:a=e.sent.data,console.log("response",a.data),t({type:E,payload:a.Brastlewark}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t((n=e.t0,{type:v,error:n}));case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))(ee),ae=a(28),ne=function(e){return e.gnomeListReducer.allGnomes},re=Object(ae.a)([ne,function(e,t){return t}],(function(e,t){return e[t]})),oe=Object(ae.a)([re],(function(e){return e.friends})),ce=Object(ae.a)([ne,oe],(function(e,t){var a={};return e.map((function(e){t.map((function(t){e.name===t&&(a[t]=e.id)}))})),a})),le=a(58),se=a(119),ie=function(e){return r.a.createElement(se.a,{borderless:!0},r.a.createElement("tbody",null,function(){var t=e.gnome,a=e.colIcons,n=e.suffixMessages,o=e.gnomeFriends,c=[];return Object.entries(t).forEach((function(e){var t=Object(le.a)(e,2),l=t[0],s=t[1];if(void 0!==a[l]){var i;if(Array.isArray(s)){var m=s.map((function(e,t){return"friends"===l?r.a.createElement(P.b,{to:"/detail/".concat(o[e]),key:t},e," "):r.a.createElement("span",{key:t},e," ")}));m.length||(m=r.a.createElement("span",null,"Gnome has no ",l)),i=r.a.createElement("td",null,m)}else i=r.a.createElement("td",null,s," ",n[l]);c.push(r.a.createElement("tr",{key:l},r.a.createElement("td",{className:"ico"},function(e,t){return r.a.createElement("i",{className:"fa ".concat(e[t])})}(a,l)),i))}})),c}()))};a(102);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ue=function(e){function t(){return Object(S.a)(this,t),Object(L.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(!this.props.gnomeData)return r.a.createElement("div",null,"Something went wrong! ",r.a.createElement("br",null),r.a.createElement(P.b,{className:"btn btn-outline-dark",to:"/"},"Return to main page "));var e=this.props.gnomeData,t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{weight:Math.floor(e.weight),height:Math.floor(e.height),gender:Math.random()>=.5?"Boy":"Girl",firstName:e.name.replace(/ .*/,"")});return r.a.createElement("div",{className:"row py-5 px-4"},r.a.createElement("div",{className:"col-12 col-xl-10 mx-auto"},r.a.createElement("div",{className:"bg-white shadow rounded "},r.a.createElement("div",{className:"px-4 pt-0 pb-4 bg-dark"},r.a.createElement(P.b,{to:"/",className:"btn btn-dark btn-sm mt-4"},r.a.createElement("i",{className:"fa fa-chevron-left"})),r.a.createElement("div",{className:"media align-items-end profile-header"},r.a.createElement("div",{className:"profile mr-3"},r.a.createElement("img",{src:t.thumbnail,alt:"...",width:"150",className:"rounded mb-2 img-thumbnail"})),r.a.createElement("div",{className:"media-body mb-5 text-white"},r.a.createElement("h4",{className:"mt-0 mb-0"},t.name),r.a.createElement("p",{className:"small mb-4"},r.a.createElement("i",{className:"fa fa-map-marker mr-2","aria-hidden":"true"}),"Brastlewark"))))),r.a.createElement("div",{className:"bg-light pl-4 pt-5 pb-5 pr-4"},r.a.createElement("h3",{className:"mt-3"},"Gnome info:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-3"},r.a.createElement(ie,{gnome:t,colIcons:{age:"fa-birthday-cake",weight:"fa-balance-scale",height:"fa-arrows-v",hair_color:"fa-user",gender:"fa-venus-mars"},suffixMessages:{age:"y.o.",weight:"kg",height:"cm",hair_color:"hair color"}})),r.a.createElement("div",{className:"col-12 col-md-9"},r.a.createElement(ie,{gnome:t,colIcons:{professions:"fa-briefcase",friends:"fa-users"},gnomeFriends:this.props.gnomeFriends}))),r.a.createElement(P.b,{to:"/",className:"btn btn-dark btn-sm float-right"},"Back"))))}}]),t}(r.a.Component),de=Object(l.b)((function(e,t){return{gnomeData:re(e,t.match.params.id),gnomeFriends:ce(e,t.match.params.id)}}))(ue),fe=M();var he=function(){return r.a.createElement("div",null,r.a.createElement(J,null),r.a.createElement("div",{className:"container"},r.a.createElement(l.a,{store:fe},r.a.createElement(P.a,null,r.a.createElement(x.a,{exact:!0,path:"/",component:te}),r.a.createElement(x.a,{path:"/detail/:id",component:de})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(103);c.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,a){e.exports=a(104)},64:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.ecbc44c6.chunk.js.map